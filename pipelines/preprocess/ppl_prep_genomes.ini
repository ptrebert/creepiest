[Run]
load_path= /home/pebert/work/code/mpggit/creepiest/pipelines
load_name= preprocess.ppl_prep_genomes

[Pipeline]
name= PREPGENOMES
inputfiles= /TL/deep/fhgfs/projects/pebert/thesis/refdata/genomes:/TL/deep/fhgfs/projects/pebert/thesis/refdata/chromsizes
tempdir= /TL/deep/fhgfs/projects/pebert/thesis/refdata/genomes/temp
outdir= /TL/deep/fhgfs/projects/pebert/thesis/refdata/genomes
motifdb= /TL/epigenetics2/work/pebert/tools/meme/motifDB/motif_databases/JASPAR/JASPAR_CORE_2016_vertebrates.meme
filtchrom= egrep "^chr[0-9]+\s" {inputfile} | cut -f 1 | sort -V > {outputfile}
conv2bit= twoBitToFa -seqList={{referencefile}} {{inputfile}} {{outputfile}}
tfscan= fimo --max-stored-scores 10000000 --thresh 1e-3 --qv-thresh --norc --o ${tempdir}/tfscan/{ASSEMBLY[0]} ${motifdb} {{inputfile}}

[Ruffus]
use_threads= True
jobs= 8
verbose= 6
history_file= ${EnvPaths:ruffushist}/${Pipeline:name}_hist.sqlite
log_file= ${EnvPaths:ruffuslog}/${Pipeline:name}_ruffus.log

[JobConfig]
workdir= ${EnvPaths:workdir}
outpath= ${EnvPaths:ruffusdump}
errpath= ${EnvPaths:ruffusdump}
native_spec= -l mem_free=5G,slots_free=1,tmp_free=5G,h=deep1[0123456789]*|deep2[0123456789]*
scriptdir= ${EnvPaths:ruffusdump}
keepscripts= 0